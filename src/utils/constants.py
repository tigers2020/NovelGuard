"""
NovelGuard 상수 정의 모듈

코드베이스 전반에서 사용되는 매직 상수들을 중앙에서 관리합니다.
"""

# ============================================================================
# 파일 크기 관련 상수
# ============================================================================

# 중복 분석 최소 파일 크기 (8KB)
# 이 크기보다 작은 파일은 중복 분석에서 제외됩니다.
MIN_FILE_SIZE: int = 8 * 1024

# 해시 계산 시 사용하는 청크 크기 (8KB)
# 파일을 읽을 때 한 번에 읽는 바이트 수입니다.
CHUNK_SIZE: int = 8192

# 앵커 해시 계산 시 사용하는 앵커 크기 (32KB)
# 파일의 앞부분, 중간 부분, 뒷부분에서 각각 이 크기만큼 읽어 해시를 계산합니다.
ANCHOR_SIZE: int = 32 * 1024

# 인코딩 감지 시 사용하는 샘플 크기 (32KB)
# 파일 전체를 읽지 않고 이 크기만큼만 읽어서 인코딩을 감지합니다.
ENCODING_SAMPLE_SIZE: int = 32768


# ============================================================================
# 병렬 처리/배치 관련 상수
# ============================================================================

# 최대 워커 스레드 수
# 병렬 처리 시 사용할 수 있는 최대 스레드 수입니다.
MAX_WORKER_THREADS: int = 8

# 파일 스캔 배치 크기
# UI 반응성을 위해 파일을 이 개수만큼 묶어서 한 번에 전송합니다.
SCAN_BATCH_SIZE: int = 20

# 중복 결과 업데이트 배치 크기
# UI 반응성을 위해 중복 검사 결과를 이 개수만큼 묶어서 업데이트합니다.
DUPLICATE_UPDATE_BATCH_SIZE: int = 50

# 진행 상황 업데이트 주기
# 이 개수만큼 처리할 때마다 진행 상황을 업데이트합니다.
PROGRESS_UPDATE_INTERVAL: int = 100

# 그룹 진행 상황 업데이트 주기
# 이 개수만큼 그룹을 처리할 때마다 진행 상황을 업데이트합니다.
GROUP_PROGRESS_UPDATE_INTERVAL: int = 10


# ============================================================================
# UI 레이아웃 관련 상수
# ============================================================================

# 최소 윈도우 너비 (픽셀)
WINDOW_MIN_WIDTH: int = 800

# 최소 윈도우 높이 (픽셀)
WINDOW_MIN_HEIGHT: int = 600

# 레이아웃 간격 (픽셀)
LAYOUT_SPACING: int = 10

# 레이아웃 여백 (왼쪽, 위, 오른쪽, 아래) (픽셀)
LAYOUT_MARGINS: tuple[int, int, int, int] = (20, 20, 20, 20)

# 제목 폰트 크기 (포인트)
TITLE_FONT_SIZE: int = 24

# 부제목 폰트 크기 (포인트)
SUBTITLE_FONT_SIZE: int = 14

# 버튼 최소 너비 (픽셀)
BUTTON_MIN_WIDTH: int = 120

# 버튼 최소 높이 (픽셀)
BUTTON_MIN_HEIGHT: int = 40

# 테이블 컬럼 수
TABLE_COLUMN_COUNT: int = 5

# 테이블 최소 높이 (픽셀)
TABLE_MIN_HEIGHT: int = 300


# ============================================================================
# 비율/임계값 관련 상수
# ============================================================================

# 파일 크기 차이 임계값
# 최신본이 구버전보다 이 배율 이상 크면 포함 관계로 판정합니다. (1.1 = 10% 차이)
SIZE_DIFFERENCE_THRESHOLD: float = 1.1

# 강한 중복 판정 신뢰도
# anchor_hashes 기반 검증을 통과한 경우의 신뢰도입니다.
CONFIDENCE_STRONG: float = 0.95

# 약한 중복 판정 신뢰도
# 폴백 검증(episode_end 또는 size 비교)을 통과한 경우의 신뢰도입니다.
CONFIDENCE_WEAK: float = 0.85


# ============================================================================
# 인코딩 관련 상수
# ============================================================================

# 기본 인코딩
# 인코딩을 감지할 수 없거나 기본값이 필요한 경우 사용합니다.
DEFAULT_ENCODING: str = "utf-8"

# 알 수 없는 인코딩
# 인코딩 감지에 실패한 경우 반환되는 값입니다.
ENCODING_UNKNOWN: str = "Unknown"

# 빈 파일 인코딩
# 파일 크기가 0인 경우 반환되는 값입니다.
ENCODING_EMPTY: str = "Empty"

# 인코딩 N/A
# 인코딩 정보가 없는 경우 사용되는 값입니다.
ENCODING_NA: str = "N/A"

# 인코딩 미감지
# 스캔 단계에서 인코딩을 감지하지 않은 경우 사용되는 값입니다.
ENCODING_NOT_DETECTED: str = "-"


# ============================================================================
# 타이머/지연 관련 상수
# ============================================================================

# UI 업데이트 지연 (밀리초)
# UI 업데이트를 이 시간만큼 지연시켜 이벤트 루프에 여유를 제공합니다.
UI_UPDATE_DELAY_MS: int = 10

# JSON 들여쓰기
# JSON 파일 저장 시 사용하는 들여쓰기 공백 수입니다.
JSON_INDENT: int = 2


# ============================================================================
# 캐시 관련 상수
# ============================================================================

# 인코딩 감지 LRU 캐시 크기
# 같은 파일의 인코딩을 재감지하지 않도록 캐시하는 최대 항목 수입니다.
ENCODING_CACHE_SIZE: int = 1000


# ============================================================================
# 파일 포맷 관련 상수
# ============================================================================

# 텍스트 파일 확장자
FILE_EXTENSION_TXT: str = ".txt"

# 바이트 단위 변환 상수
BYTES_PER_KB: int = 1024


# ============================================================================
# 무결성 검사 관련 상수
# ============================================================================

# 무결성 검사 시 디코딩 검증에 사용하는 샘플 크기 (32KB)
# 인코딩 감지와 동일한 크기를 사용하여 일관성을 유지합니다.
INTEGRITY_DECODE_SAMPLE_SIZE: int = ENCODING_SAMPLE_SIZE

# 무결성 이슈 코드 상수
# 각 이슈 유형을 식별하는 코드입니다.
INTEGRITY_ISSUE_CODE_EMPTY_FILE: str = "EMPTY_FILE"
INTEGRITY_ISSUE_CODE_READ_ERROR: str = "READ_ERROR"
INTEGRITY_ISSUE_CODE_DECODE_ERROR: str = "DECODE_ERROR"
