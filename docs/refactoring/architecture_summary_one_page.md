# NovelGuard ì•„í‚¤í…ì²˜ ìš”ì•½ (1-Page)

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**í”„ë¡œì íŠ¸**: NovelGuard  
**ëª©ì **: í…ìŠ¤íŠ¸ ì†Œì„¤ íŒŒì¼ ì •ë¦¬ ë„êµ¬  
**ì•„í‚¤í…ì²˜**: Clean Architecture + DDD  
**í˜„ì¬ ìƒíƒœ**: âœ… Phase 1~4 ì™„ë£Œ (95% ì¤€ìˆ˜)

---

## ğŸ—ï¸ ê³„ì¸µ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           GUI Layer                 â”‚
â”‚  (gui/views, gui/workers)           â”‚
â”‚  âœ… UseCaseë§Œ í˜¸ì¶œ                   â”‚
â”‚  âœ… Domain Modelsë§Œ ì§ì ‘ ì ‘ê·¼        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Application Layer            â”‚
â”‚  (app/workflows, app/bootstrap)     â”‚
â”‚  âœ… UseCase ì¡°í•©ë§Œ ìˆ˜í–‰              â”‚
â”‚  âœ… ì˜ì¡´ì„± ì£¼ì… (Bootstrap)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         UseCase Layer               â”‚
â”‚  (usecases/*)                       â”‚
â”‚  âœ… Domain + Portsë§Œ ì˜ì¡´            â”‚
â”‚  âš ï¸ FileScanner 1ê±´ ì˜ˆì™¸ (ìˆ˜ì • ì˜ˆì •) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Domain Layer                â”‚
â”‚  âœ… ì™¸ë¶€ ì˜ì¡´ ì—†ìŒ                   â”‚
â”‚  âœ… ìˆœìˆ˜ Python (dataclass)          â”‚
â”‚                                     â”‚
â”‚  - aggregates/  (DuplicateGroup)    â”‚
â”‚  - entities/    (File, Issue)       â”‚
â”‚  - value_objects/ (FilePath, etc)   â”‚
â”‚  - services/    (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)       â”‚
â”‚  - policies/    (ìˆœìˆ˜ í•¨ìˆ˜)          â”‚
â”‚  - ports/       (ì¸í„°í˜ì´ìŠ¤)         â”‚
â”‚  - models/      âš ï¸ Deprecated        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–²
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Infrastructure Layer           â”‚
â”‚  (infra/*)                          â”‚
â”‚  âœ… Domain Ports êµ¬í˜„                â”‚
â”‚  âœ… ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜í•‘               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… í•µì‹¬ ì›ì¹™ ì¤€ìˆ˜ ìƒíƒœ

| ì›ì¹™ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| **ì˜ì¡´ì„± ë°©í–¥** | âœ… ì¤€ìˆ˜ | Domain â† UseCase â† Infrastructure/GUI |
| **Domain ìˆœìˆ˜ì„±** | âœ… ì¤€ìˆ˜ | Pydantic ì—†ìŒ, ì™¸ë¶€ ì˜ì¡´ ì—†ìŒ |
| **Ports & Adapters** | âœ… 95% | 4ê°œ Port ì •ì˜, 1ê±´ ì˜ˆì™¸ |
| **ID ê¸°ë°˜ ì°¸ì¡°** | âœ… ì¤€ìˆ˜ | ëª¨ë“  Aggregate/Entity |
| **ìˆœí™˜ ì˜ì¡´ì„±** | âœ… ì—†ìŒ | í™•ì¸ ì™„ë£Œ |
| **ë¶ˆë³€ì„±** | âœ… ì¤€ìˆ˜ | frozen dataclass |

**ì „ì²´ í‰ê°€**: âœ… **95% ì¤€ìˆ˜**

---

## ğŸ“Š ì£¼ìš” êµ¬ì¡° ìš”ì†Œ

### Domain ê³„ì¸µ

**Aggregates** (`domain/aggregates/`):
- `DuplicateGroup`: ì¤‘ë³µ ê·¸ë£¹ (ID ê¸°ë°˜ ì°¸ì¡°)
- `ActionPlan`: ì•¡ì…˜ í”Œëœ (ID ê¸°ë°˜ ì°¸ì¡°)

**Entities** (`domain/entities/`):
- `File`: íŒŒì¼ ì—”í‹°í‹°
- `IntegrityIssue`: ë¬´ê²°ì„± ì´ìŠˆ

**Value Objects** (`domain/value_objects/`):
- `FilePath`, `FileMetadata`, `FileHashInfo`
- `Evidence`, `CandidateEdge`, `PreviewStats`
- `FileId` (NewType)

**Services** (`domain/services/`):
- `FileCompareService`: íŒŒì¼ ë¹„êµ
- `VersionSelectionService`: ë²„ì „ ì„ íƒ
- `IntegrityCheckService`: ë¬´ê²°ì„± ê²€ì‚¬
- `EvidenceBuilderService`: ì¦ê±° ìƒì„±

**Policies** (`domain/policies/`):
- `version_selection.py`: ìˆœìˆ˜ í•¨ìˆ˜ (5ê°œ)

**Ports** (`domain/ports/`):
- `IFileRepository`: íŒŒì¼ ì €ì¥ì†Œ
- `IHashService`: í•´ì‹œ ì„œë¹„ìŠ¤
- `IEncodingDetector`: ì¸ì½”ë”© ê°ì§€
- `ILogger`: ë¡œê¹…

---

### Application ê³„ì¸µ

**Workflows** (`app/workflows/`):
- `ScanFlow`: íŒŒì¼ ìŠ¤ìº” ì›Œí¬í”Œë¡œìš°
- `AnalysisFlow`: ë¶„ì„ ì›Œí¬í”Œë¡œìš°

**Bootstrap** (`app/bootstrap.py`):
- ì˜ì¡´ì„± ì£¼ì…
- ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”

---

### Infrastructure ê³„ì¸µ

**êµ¬í˜„ì²´** (`infra/*`):
- `FileRepository`: IFileRepository êµ¬í˜„
- `HashServiceAdapter`: IHashService êµ¬í˜„
- `EncodingDetector`: IEncodingDetector êµ¬í˜„
- `StdLogger`: ILogger êµ¬í˜„

---

## âš ï¸ í˜„ì¬ ìƒíƒœ ë° ë‚¨ì€ ì‘ì—…

### ì™„ë£Œëœ Phase

âœ… **Phase 1**: GUI Orchestration ì œê±°, Bootstrap ë¶„ë¦¬  
âœ… **Phase 1.15**: Ports ì •ì˜ ë° Infrastructure ë§ˆìŠ¤í‚¹  
âœ… **Phase 2**: Domain ì •ì œ (Aggregates, Entities, ValueObjects ë¶„ë¦¬)  
âœ… **Phase 3**: Infrastructure ì•ˆì •í™” (Logging, Error, Settings)  
âœ… **Phase 4**: ì •ë¦¬ ë° ìµœì í™” (Types ì •ë¦¬, ì•„í‚¤í…ì²˜ ê²€ì¦)

---

### ë‚¨ì€ ì‘ì—… (ì„ íƒì )

**1. Deprecated ì½”ë“œ ì œê±°** (ì„ íƒì ):
- `domain/models/` í´ë” ì •ë¦¬
- ì‚¬ìš©ì²˜ ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš” (13ê°œ íŒŒì¼)
- ì˜ˆìƒ ì‹œê°„: 4-6ì‹œê°„

**2. ì•„í‚¤í…ì²˜ ìœ„ë°˜ 3ê±´ ìˆ˜ì •** (ì„ íƒì ):
- FileScanner Port ì •ì˜
- FileRepository ì£¼ì…ìœ¼ë¡œ ë³€ê²½
- ì˜ˆìƒ ì‹œê°„: 3-4ì‹œê°„

**ìš°ì„ ìˆœìœ„**: ë‚®ìŒ (ê¸°ëŠ¥ ë™ì‘ì—ëŠ” ì˜í–¥ ì—†ìŒ)

---

## ğŸ” ì¤‘ìš”í•œ êµ¬ë¶„

### `domain/models/` í´ë”

**ìƒíƒœ**: âš ï¸ **Deprecated (í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€ìš©)**

**ì‹¤ì œ ì‚¬ìš©**:
- âŒ ìƒˆ ì½”ë“œëŠ” ì‚¬ìš© ì•ˆ í•¨
- âš ï¸ ì¼ë¶€ ë ˆê±°ì‹œ ì½”ë“œì—ì„œë§Œ ì‚¬ìš© (ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ˆì •)
- âœ… Deprecation ê²½ê³  í¬í•¨

**ìƒˆ ìœ„ì¹˜**:
- `DuplicateGroup` â†’ `domain/aggregates/duplicate_group.py`
- `ActionPlan` â†’ `domain/aggregates/action_plan.py`
- `IntegrityIssue` â†’ `domain/entities/integrity_issue.py`
- `Evidence` â†’ `domain/value_objects/evidence.py`
- `PreviewStats` â†’ `domain/value_objects/preview_stats.py`

**ê²°ë¡ **: êµ¬ì¡°ì ìœ¼ë¡œëŠ” ì œê±°ë˜ì—ˆìœ¼ë‚˜, í•˜ìœ„ í˜¸í™˜ì„±ì„ ìœ„í•´ ë¬¼ë¦¬ì ìœ¼ë¡œ ë‚¨ì•„ìˆìŒ

---

## ğŸ“ˆ ë©”íŠ¸ë¦­ìŠ¤

**í…ŒìŠ¤íŠ¸**:
- ì´ í…ŒìŠ¤íŠ¸: 326ê°œ
- í†µê³¼: 326ê°œ (100%)
- ì‹¤í–‰ ì‹œê°„: 0.58ì´ˆ

**ì½”ë“œ í’ˆì§ˆ**:
- ì•„í‚¤í…ì²˜ ì¤€ìˆ˜ë„: 95%
- ìˆœí™˜ ì˜ì¡´ì„±: 0ê±´
- ì•„í‚¤í…ì²˜ ìœ„ë°˜: 3ê±´ (ê²½ë¯¸, ì„ íƒì  ìˆ˜ì •)

---

## ğŸ¯ í•µì‹¬ ë©”ì‹œì§€

1. âœ… **ë¦¬íŒ©í† ë§ ì„±ê³µ**: Phase 1~4 ëŒ€ë¶€ë¶„ ì™„ë£Œ
2. âœ… **êµ¬ì¡° ì•ˆì •**: Clean Architecture ì›ì¹™ 95% ì¤€ìˆ˜
3. âš ï¸ **ë‚¨ì€ ì‘ì—…**: Deprecated ì½”ë“œ ì •ë¦¬ ë° ê²½ë¯¸í•œ ìœ„ë°˜ ìˆ˜ì • (ì„ íƒì )

**í˜„ì¬ ìƒíƒœ**: í”„ë¡œë•ì…˜ ì‚¬ìš© ê°€ëŠ¥, ì¶”ê°€ ì •ë¦¬ ì‘ì—…ì€ ì„ íƒì 

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-01-09  
**ë²„ì „**: 1.0
